(this.webpackJsonpimageclassification=this.webpackJsonpimageclassification||[]).push([[0],{12:function(e,t,a){e.exports=a(41)},17:function(e,t,a){},18:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),s=a(7),o=a.n(s),l=(a(17),a(8)),d=a(9),c=a(11),r=a(10),h=(a(18),a(3)),m=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={predictedImage:"",showVideo:!1,showImage:!0},e.videoRef=n.a.createRef(),e}return Object(d.a)(a,[{key:"modelLoaded",value:function(e){console.log("Model Loaded!");var t=document.getElementById("canvas");null==t?this.classifier.predict(e,this.gotResults.bind(this)):this.classifier.predict(t,this.gotImageResults.bind(this))}},{key:"gotResults",value:function(e,t){if(e)console.error(e);else{var a=t[0];this.setState({predictedImage:a.label}),this.classifier.predict(this.gotResults.bind(this))}}},{key:"gotImageResults",value:function(e,t){if(e)console.error(e);else{var a=t[0];this.setState({predictedImage:a.label})}}},{key:"componentDidMount",value:function(){var e=document.getElementById("canvas"),t=e.getContext("2d"),a=new Image;a.onload=function(){e.width=a.width,e.height=a.height,t.drawImage(a,0,0)},a.src="/baby_yoda.jpg"}},{key:"handleChange",value:function(){var e=this;this.setState({showImage:!0,showVideo:!1},(function(){var t=document.getElementById("avatar").files[0],a=new FileReader;a.readAsDataURL(t),a.onload=function(e){setTimeout((function(){var e=document.getElementById("canvas"),t=e.getContext("2d"),i=new Image;i.onload=function(){e.width=i.width,e.height=i.height,t.drawImage(i,0,0)},i.src=a.result}))},e.classifier=h.imageClassifier("MobileNet",e.modelLoaded.bind(e))}))}},{key:"handleVideo",value:function(){var e=this;this.setState({showVideo:!0,showImage:!1},(function(){var t=e.videoRef.current;navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){t.srcObject=e})),e.classifier=h.imageClassifier("MobileNet",t,e.modelLoaded.bind(e,t))}))}},{key:"render",value:function(){var e=this.state,t=e.showVideo,a=e.showImage;return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"App-header"},"Image Classification"),t?n.a.createElement("video",{autoPlay:!0,width:"600",height:"600",style:{inlineSize:"auto"},ref:this.videoRef}):null,a?n.a.createElement("canvas",{id:"canvas"}):null,n.a.createElement("div",{style:{margin:"4px"}},n.a.createElement("input",{type:"button",value:"Start Video",className:"inputButton",onClick:this.handleVideo.bind(this)}),n.a.createElement("label",{for:"avatar",className:"label"},"Upload Image",n.a.createElement("input",{type:"file",style:{display:"none"},id:"avatar",name:"avatar",accept:"image/png, image/jpeg",onChange:this.handleChange.bind(this)}))),n.a.createElement("div",{className:"predict-text",id:"text"},this.state.predictedImage.length>0?"Predicted Image : ".concat(this.state.predictedImage):"Predicted Image : Baby Yoda"))}}]),a}(n.a.Component);o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(m,null)),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.ed76d93f.chunk.js.map